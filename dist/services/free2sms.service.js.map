{"version":3,"sources":["../../src/services/free2sms.service.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nclass Free2SMSService {\r\n\tprivate readonly apiKey: string;\r\n\r\n\tconstructor() {\r\n\t\tthis.apiKey = process.env.FREE2SMS_API_KEY || \"random key\";\r\n\r\n\t\tif (!this.apiKey) {\r\n\t\t\tthrow new Error(\"Free2SMS API key not provided.\");\r\n\t\t}\r\n\t}\r\n\r\n\tasync sendOTP(identifier: string, otp: number): Promise<any> {\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get(\r\n\t\t\t\t`https://www.sms4india.com/api/v1/sendCampaign?apikey=${this.apiKey}&secret={API_SECRET}&usetype={type}&phone=+91${identifier}&message=Your OTP is: ${otp}&senderid={senderid}`,\r\n\t\t\t);\r\n\r\n\t\t\treturn {\r\n\t\t\t\tsuccess: true,\r\n\t\t\t\tmessage: \"OTP sent successfully\",\r\n\t\t\t\tresponse: response.data,\r\n\t\t\t};\r\n\t\t} catch (error) {\r\n\t\t\tthrow new Error(\r\n\t\t\t\t`Failed to send OTP with Free2SMS: ${error.message}`,\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default Free2SMSService;\r\n"],"names":["Free2SMSService","sendOTP","identifier","otp","response","axios","get","apiKey","success","message","data","error","Error","constructor","process","env","FREE2SMS_API_KEY"],"mappings":";;;;+BAgCA;;;eAAA;;;gDAhCkB;;;;;;;;;;;;;;;;;;;AAElB,IAAA,AAAMA,kBAAN,MAAMA;IAWL,MAAMC,QAAQC,UAAkB,EAAEC,GAAW,EAAgB;QAC5D,IAAI;YACH,MAAMC,WAAW,MAAMC,cAAK,CAACC,GAAG,CAC/B,CAAC,qDAAqD,EAAE,IAAI,CAACC,MAAM,CAAC,6CAA6C,EAAEL,WAAW,sBAAsB,EAAEC,IAAI,oBAAoB,CAAC;YAGhL,OAAO;gBACNK,SAAS;gBACTC,SAAS;gBACTL,UAAUA,SAASM,IAAI;YACxB;QACD,EAAE,OAAOC,OAAO;YACf,MAAM,IAAIC,MACT,CAAC,kCAAkC,EAAED,MAAMF,OAAO,CAAC,CAAC;QAEtD;IACD;IAxBAI,aAAc;QAFd,uBAAiBN,UAAjB,KAAA;QAGC,IAAI,CAACA,MAAM,GAAGO,QAAQC,GAAG,CAACC,gBAAgB,IAAI;QAE9C,IAAI,CAAC,IAAI,CAACT,MAAM,EAAE;YACjB,MAAM,IAAIK,MAAM;QACjB;IACD;AAmBD;MAEA,WAAeZ"}