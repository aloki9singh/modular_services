{"version":3,"sources":["../../src/middlewares/auth.ts"],"sourcesContent":["import { NextFunction, Request, Response } from 'express';\r\n\r\nexport async function ensureAuth(req: Request, res: Response, next: NextFunction) {\r\n\t// check if user is authenticated\r\n\tif(req.isAuthenticated()) {\r\n\t\treturn next();\r\n\t}\r\n\treturn res.status(401).send({ message: 'Unauthorized', reason: 'You are not logged in' });\r\n}\r\n\r\nexport async function ensureAdminAuth(req: Request, res: Response, next: NextFunction) {\r\n\t\r\n\t// check if user is authenticated and is admin\r\n\t// if (!req.isAuthenticated()) {\r\n\t// \treturn res.status(401).send({ message: 'Unauthorized', reason: 'You do not have client id and/or api key' });\r\n\t// }\r\n\tnext();\r\n}\r\n"],"names":["ensureAdminAuth","ensureAuth","req","res","next","isAuthenticated","status","send","message","reason"],"mappings":";;;;;;;;;;;IAUsBA,eAAe;eAAfA;;IARAC,UAAU;eAAVA;;;AAAf,eAAeA,WAAWC,GAAY,EAAEC,GAAa,EAAEC,IAAkB;IAE/E,IAAGF,IAAIG,eAAe,IAAI;QACzB,OAAOD;IACR;IACA,OAAOD,IAAIG,MAAM,CAAC,KAAKC,IAAI,CAAC;QAAEC,SAAS;QAAgBC,QAAQ;IAAwB;AACxF;AAEO,eAAeT,gBAAgBE,GAAY,EAAEC,GAAa,EAAEC,IAAkB;IAMpFA;AACD"}